
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Designing edit metric tags &mdash; edittag v1.0 documentation</title>
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="edittag v1.0 documentation" href="index.html" />
    <link rel="next" title="Validating edit metric tags" href="validation.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="validation.html" title="Validating edit metric tags"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">edittag v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="designing-edit-metric-tags">
<span id="design"></span><h1>Designing edit metric tags<a class="headerlink" href="#designing-edit-metric-tags" title="Permalink to this headline">¶</a></h1>
<p>You can design sequence tags of arbitrary length by invoking
<tt class="docutils literal"><span class="pre">design_edit_metric_tags.py</span></tt> using something similar to the
following:</p>
<div class="highlight-bash"><div class="highlight"><pre>design_edit_metric_tags.py <span class="se">\</span>
    --tag-length<span class="o">=</span>6 <span class="se">\</span>
    --edit-distance<span class="o">=</span>3 <span class="se">\</span>
    --no-polybase <span class="se">\</span>
    --gc <span class="se">\</span>
    --comp <span class="se">\</span>
    --min-and-greater
</pre></div>
</div>
<p>We describe each option (<tt class="docutils literal"><span class="pre">design_edit_metric_tags.py</span> <span class="pre">--help</span></tt>) in
detail, below.  We have separated these options into those pertinent to
<a class="reference internal" href="#tag-design"><em>Tag design options</em></a> and those for <a class="reference internal" href="#tag-rescanning"><em>Tag rescanning options</em></a>.</p>
<div class="section" id="tag-design-options">
<span id="tag-design"></span><h2>Tag design options<a class="headerlink" href="#tag-design-options" title="Permalink to this headline">¶</a></h2>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--output=<var>&lt;FILE&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Path to the output file, in which to store the results
of a particular run.  When not provided, results are written to stdout.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--tag-length=<var>&lt;int&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Length of the desired sequence tag.  The results
output depend on the interaction of <cite>&#8211;tag-length</cite> <strong>and</strong>
<cite>&#8211;edit-distance</cite>:  you cannot design tags of greater edit distance than
their <cite>tag-length - 1</cite>.  By default, there is always only one tag in the
set where <cite>&#8211;edit-distance = &#8211;tag-length</cite>.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--edit-distance=<var>&lt;int&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Edit distance of the desired tag set.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--multiprocessing</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Use multiple processors.  The number of
cores/processors used is set by default to the max(cores) - 2.  You can
explicitly set this option using &#8211;processors.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--processors=<var>&lt;int&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The number of computing cores/processors to use.
This defaults to max(cores) - 2.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--no-polybase</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Filter those tags having greater than two adjacent,
identical bases. Homopolymer bases are problematic on certain
sequencing platforms, thus it is useful to avoid homopolymer runs longer
than three.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--gc</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Filter those tags having 40 &lt; GC % &lt; 60.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--comp</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Filter those tags that are perfect self-complements.  Generally,
this option removes tags likely to form hairpins.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--hamming</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Use Hamming distance in place of edit (Levenshtein) distance.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--min-and-greater</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Return all tags at the minimum edit distance
requested, and subsets of those tags falling within consecutively
greater edit distance categories.  Thus, if you design 8 nucleotide,
edit distance 3 tags and pass this option, the program will return all
subsets of these tags having edit distances in the <tt class="docutils literal"><span class="pre">set([3,4,5,6,7])</span></tt>.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="tag-rescanning-options">
<span id="tag-rescanning"></span><h2>Tag rescanning options<a class="headerlink" href="#tag-rescanning-options" title="Permalink to this headline">¶</a></h2>
<p>Tag rescanning is an option that you can use to design nested sets of
edit metric sequence tags.  &#8220;Nested&#8221; is likely the wrong word without
some context.  Essentially the rescanning option allows you to:</p>
<ol class="arabic simple">
<li>design a set of tags of <tt class="docutils literal"><span class="pre">--tag-length=&lt;int&gt;</span></tt> and
<tt class="docutils literal"><span class="pre">--edit-distance=&lt;int&gt;</span></tt></li>
<li>select the subset of those tags where the first <cite>x</cite> bases <strong>also</strong>
have a particular edit distance from one another</li>
</ol>
<p>As an example, we designed a set of 10 nucleotide, edit metric sequence
tags of edit distance five.  Then we selected the subset of these 10
nucleotide tags where the first six nucleotides where also edit distance
three from one another.</p>
<p>This allows us an additional layer of protection, in case the index
sequencing step on certain platforms is not run for sufficiently long
(and only gathers data from the first six bases of the index instead of
all 10).  You can rescan a sequence tag file, outputting those tags
where the first six nucleotides are edit distance three from one another
using:</p>
<div class="highlight-bash"><div class="highlight"><pre>python design_edit_metric_tags.py <span class="se">\</span>
    --rescan my_file_to_rescan.txt <span class="se">\</span>
    --edit-distance<span class="o">=</span>3 <span class="se">\</span>
    --min-and-greater <span class="se">\</span>
    --rescan-length<span class="o">=</span>6
</pre></div>
</div>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--rescan=<var>&lt;FILE&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Path to the input file, containing edit metric sequence
tags, that you wish you rescan.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--rescan-length=<var>&lt;int&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The (subset) number of nucleotides over which you
wish to determine the nested edit distance.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Designing edit metric tags</a><ul>
<li><a class="reference internal" href="#tag-design-options">Tag design options</a></li>
<li><a class="reference internal" href="#tag-rescanning-options">Tag rescanning options</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="validation.html" title="next chapter">Validating edit metric tags</a></li>
  </ul></li>
</ul>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/design.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2011, Brant C. Faircloth.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>